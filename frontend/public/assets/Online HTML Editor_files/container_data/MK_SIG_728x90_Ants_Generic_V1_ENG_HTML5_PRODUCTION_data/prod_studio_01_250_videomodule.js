self.studioLoader.context.evalInContext("window.STUDIO_SDK_START=+new Date();var co={},eo=/OS (\\S+) like/,fo=/Android (\\S+);/;function go(a,b){null==co[b]&&((a=a.exec(Db()))?(a=a[1].replace(/_/g,\".\"),co[b]=0<=Cb(a,b)):co[b]=!1);return co[b]};var ho=function(){H.call(this);this.o=this.s=this.l=!1;this.j=0;this.A=[];this.D=!1};p(ho,H);var io=function(a,b){null==b||a.l||(a.h=b,a.F=!Yg&&!Zg,a.G=Yg||Zg,a.F?a.h.addEventListener(\"click\",v(a.B,a),!1):a.G&&(a.h.addEventListener(\"touchstart\",v(a.N,a),!1),a.h.addEventListener(\"touchmove\",v(a.J,a),!1),a.h.addEventListener(\"touchend\",v(a.I,a),!1)),a.l=!0)},jo=function(a){null!=a.h&&a.l&&(a.l=!1,a.F?a.h.removeEventListener(\"click\",v(a.B,a),!1):a.G&&(a.h.removeEventListener(\"touchstart\",v(a.N,a),!1),a.h.removeEventListener(\"touchmove\",v(a.J,a),!1),a.h.removeEventListener(\"touchend\",v(a.I,a),!1)))};ho.prototype.N=function(a){this.s=!0;this.j=a.touches.length;this.D=ko(this,a.touches)||1!=a.touches.length;a=a.touches;this.A=[];for(var b=0;b<a.length;b++)this.A.push(a[b].identifier)};ho.prototype.J=function(a){this.o=!0;this.j=a.touches.length};ho.prototype.I=function(a){this.s&&1==this.j&&!this.o&&!this.D&&ko(this,a.changedTouches)&&this.dispatchEvent(new Wf(\"click\"));this.j=a.touches.length;0==this.j&&(this.o=this.s=!1)};ho.prototype.B=function(){this.dispatchEvent(new Wf(\"click\"))};var ko=function(a,b){for(var c=0;c<b.length;c++)if(a.A.includes(b[c].identifier))return!0;return!1};var lo=function(a){Wf.call(this,a)};p(lo,Wf);var mo=function(){H.call(this)};p(mo,H);var no=function(){H.call(this);this.o=new D;this.A=new ho;this.B=\"none\"};p(no,H);no.prototype.C=function(){oo(this);H.prototype.C.call(this)};var oo=function(a){null!=a.j&&a.j.dispose();null!=a.s&&a.s.dispose();null!=a.h&&po(a.h);Tf(a.o);jo(a.A)},Y=function(a,b,c){c&&null!=a.o.get(b)||(a.o.set(b,!0),a.dispatchEvent(new lo(b)))},qo=function(a,b){null!=a.o.get(b)&&(a=a.o,Sf(a.j,b)&&(delete a.j[b],--a.size,a.l++,a.h.length>2*a.size&&Rf(a)))};h=no.prototype;h.Bd=function(){a:{var a=this.h;if(a.h.seeking&&!a.s)a.s=!0,a.A=ro(a);else{if(!a.h.seeking&&a.s){a.s=!1;var b=0!=a.h.currentTime&&a.h.currentTime<a.A;a.A=-1;break a}if(!a.h.seeking&&0!=a.h.currentTime&&ro(a)>a.h.currentTime){b=.5<ro(a)-a.h.currentTime;break a}}b=!1}a=so(this.h);if(b&&(Y(this,\"rewind\",!1),-1!=a)){ro(this.h)>=.75*a||qo(this,\"thirdquartile\");ro(this.h)>=.5*a||qo(this,\"midpoint\");ro(this.h)>=.25*a||qo(this,\"firstquartile\");a:{b=this.h;for(var c=b.l.W(),d=c.length-1;0<=d;d--)if(.5>c[d]){c=b.l;c=0==c.fa()?null:c.get(c.fa()-1);d=b.l;d.h.length=0;d.j=0;.5<=c&&b.l.add(c);b=!0;break a}b=!1}b&&Y(this,\"replay\",!1)}-1!=a&&(ro(this.h)>=.25*a&&Y(this,\"firstquartile\",!0),ro(this.h)>=.5*a&&Y(this,\"midpoint\",!0),ro(this.h)>=.75*a&&Y(this,\"thirdquartile\",!0))};h.Ad=function(){Y(this,\"creativeview\",!0);null!=this.D?(L(this.j,this.A,\"click\",this.wd,!1),io(this.A,this.D)):L(this.j,this.h,\"click\",this.Ie);Y(this,\"start\",!0);(this.h.h.muted||0==this.h.h.volume)&&Y(this,\"mute\",!1)};h.Cd=function(){var a=this.h.h.muted,b=this.h.h.volume,c=this.l;c.j&&!a||!a&&0==c.volume&&0<b?Y(this,\"unmute\",!1):this.l.muted(a,b)&&Y(this,\"mute\",!1);this.l.j=a;this.l.volume=b};h.zd=function(){if(this.h.h.ended)Y(this,\"complete\",!0);else{var a;if(a=\"pausedAtBeginning\"==this.B)a=this.h,a=!isNaN(a.h.duration)&&0<a.h.duration&&0==a.h.currentTime;a?Y(this,\"stop\",!0):to(this.h)&&!this.h.h.seeking&&(this.l.paused=!0,Y(this,\"pause\",!1))}};h.He=function(){this.l.paused&&(this.l.paused=!1,Y(this,\"resume\",!1))};h.xd=function(){var a=this.h;if(!$g||$g&&go(fo,2.3))a=!0;else{var b=a.h.duration-ro(a);a=0==a.h.currentTime&&1.5>=b}a?\"pausedAtEnd\"==this.B&&to(this.h)?Y(this,\"stop\",!0):Y(this,\"complete\",!0):this.h.pause()};h.wd=function(){Y(this,\"click\",!1)};h.yd=function(){Y(this,\"error\",!1)};h.Ie=function(){Y(this,\"click\",!1)};h.dc=function(){this.l.h=!0;Y(this,\"fullscreen\",!1)};h.cc=function(){this.l.h=!1};h.Ge=function(){var a=uo(this.h),b=vo(this.h),c=this.l;if(a.width!=c.width||a.height!=c.height)!this.l.h&&b?this.dc():this.l.h&&!b&&this.cc(),this.l.width=a.width,this.l.height=a.height};var wo=function(a){this.width=uo(a).width;this.height=uo(a).height;this.paused=!1;this.j=a.h.muted;this.h=vo(a);this.volume=a.h.volume};wo.prototype.muted=function(a,b){return!this.j&&a||0<this.volume&&0==b};var xo=function(){this.j=0;this.h=[]};h=xo.prototype;h.add=function(a){var b=this.h[this.j];this.h[this.j]=a;this.j=(this.j+1)%4;return b};h.get=function(a){a=yo(this,a);return this.h[a]};h.set=function(a,b){a=yo(this,a);this.h[a]=b};h.fa=function(){return this.h.length};h.W=function(){var a=this.fa(),b=this.fa(),c=[];for(a=this.fa()-a;a<b;a++)c.push(this.get(a));return c};h.Fa=function(){for(var a=[],b=this.fa(),c=0;c<b;c++)a[c]=c;return a};h.ea=function(a){return a<this.fa()};h.Va=function(a){for(var b=this.fa(),c=0;c<b;c++)if(this.get(c)==a)return!0;return!1};var yo=function(a,b){if(b>=a.h.length)throw Error(\"Out of bounds exception\");return 4>a.h.length?b:(a.j+Number(b))%4};var zo=function(a){H.call(this);this.h=a;this.l=new xo;this.A=-1;this.B=this.s=!1};p(zo,mo);var so=function(a){return isNaN(a.h.duration)?-1:a.h.duration};zo.prototype.play=function(){Eg(this.h.play,0,this.h)};zo.prototype.pause=function(){this.h.pause()};var to=function(a){return a.h.paused?Yg||Zg||ah?a.h.currentTime<a.h.duration:!0:!1},vo=function(a){return Yg?a.h.webkitSupportsFullscreen&&a.h.webkitDisplayingFullscreen:a.h.offsetWidth>=document.body.offsetWidth&&a.h.offsetHeight>=document.body.offsetHeight},ro=function(a){for(a=a.l.W();a.length;){var b=a.pop();if(0<b)return b}return-1},uo=function(a){return new $c(a.h.offsetWidth,a.h.offsetHeight)};zo.prototype.C=function(){mo.prototype.C.call(this);po(this)};var po=function(a){null!=a.o&&(jo(a.o),a.o=null);null!=a.j&&(a.j.dispose(),a.j=null);a.A=-1;a.B=!1;a.s=!1;a=a.l;a.h.length=0;a.j=0},Ao=function(a,b){a.B||(a.B=!0,a.dispatchEvent(\"start\"),!$g&&(!Yg||(Yg||Zg)&&go(eo,4))||a.ec(b))};h=zo.prototype;h.Fe=function(){bh&&(this.h.currentTime=.001)};h.Sc=function(a){this.dispatchEvent(\"play\");Yg||Zg||Ao(this,a)};h.Id=function(a){this.B||((Yg||Zg)&&0<this.h.currentTime&&Ao(this,a),Wb&&this.Sc(a));this.l.add(this.h.currentTime);this.dispatchEvent(\"timeUpdate\")};h.Jd=function(){this.dispatchEvent(\"volumeChange\")};h.Hd=function(){this.dispatchEvent(\"pause\")};h.Ed=function(){this.dispatchEvent(\"end\")};h.ec=function(){this.dispatchEvent(\"beginFullscreen\")};h.Gd=function(){this.dispatchEvent(\"endFullscreen\")};h.Fd=function(){this.dispatchEvent(\"error\")};h.Dd=function(){this.dispatchEvent(\"click\")};var Bo=function(a){this.B=a;this.v=this.o=!0;this.l=new no;this.l.B=\"pausedAtBeginning\";this.s=this.h=this.j=null;yk(v(this.X,this))},Do=function(a){var b=Co.get(a);null==b&&(b=new Bo(a),Co.set(a,b));return b};Bo.prototype.X=function(a){this.h=a;Eo(this)};var Eo=function(a){Fo(a,!1);Fo(a,!0);if(null!=a.h&&null!=a.s){var b=a.l,c=a.j;oo(b);b.h=c;c=b.h;po(c);c.j=new K(c);L(c.j,c.h,\"canplay\",c.Fe);L(c.j,c.h,\"ended\",c.Ed);L(c.j,c.h,\"webkitbeginfullscreen\",c.ec);L(c.j,c.h,\"webkitendfullscreen\",c.Gd);L(c.j,c.h,\"pause\",c.Hd);L(c.j,c.h,\"playing\",c.Sc);L(c.j,c.h,\"timeupdate\",c.Id);L(c.j,c.h,\"volumechange\",c.Jd);L(c.j,c.h,\"error\",c.Fd);c.o=new ho;L(c.j,c.o,\"click\",c.Dd,!1);io(c.o,c.h);b.l=new wo(b.h);b.D=null;b.j=new K(b);L(b.j,b.h,\"timeUpdate\",b.Bd,!1);L(b.j,b.h,\"volumeChange\",b.Cd,!1);L(b.j,b.h,\"pause\",b.zd,!1);L(b.j,b.h,\"play\",b.He,!1);L(b.j,b.h,\"end\",b.xd,!1);L(b.j,b.h,\"beginFullscreen\",b.dc,!1);L(b.j,b.h,\"endFullscreen\",b.cc,!1);L(b.j,b.h,\"start\",b.Ad,!1);L(b.j,b.h,\"error\",b.yd,!1);b.s=new Cg(1E3);L(b.j,b.s,\"tick\",b.Ge,!1,b);b.s.start();a.j.Ka(\"timeUpdate\",a.kd,!1,a);a.s.paused?a.l.Ka(\"start\",a.ub,!1,a):a.ub()}},Fo=function(a,b){Go(a,b,\"resume\",a.ub);Go(a,b,\"replay\",a.Pe);Go(a,b,\"pause\",a.Je);Go(a,b,\"stop\",a.df);Go(a,b,\"mute\",a.Ee);Go(a,b,\"unmute\",a.jf);Go(a,b,\"firstquartile\",a.ae);Go(a,b,\"midpoint\",a.De);Go(a,b,\"thirdquartile\",a.ff);Go(a,b,\"complete\",a.Rd)},Go=function(a,b,c,d){(b?a.l.Ka:a.l.Sa).call(a.l,c,d,!1,a)};h=Bo.prototype;h.ub=function(){this.l.Sa(\"start\",this.ub,!1,this);this.h.dispatchEvent(new M(\"videoStart\"));Ho(this,\"play\",!this.A);Io(this,\"Start\");this.A=!1;null!=this.h&&this.v&&!this.F&&(this.h.A(),this.F=!0)};h.Pe=function(){Ho(this,\"replay\",!0);Io(this,\"Stop\");this.o=!1};h.Je=function(){Ho(this,\"pause\",!0);Io(this,\"Stop\")};h.df=function(){Ho(this,\"stop\",!0);Io(this,\"Stop\");this.o=!1};h.Ee=function(){Ho(this,\"mute\",!this.A)};h.jf=function(){Ho(this,\"unmute\",!this.A)};h.ae=function(){Ho(this,\"firstquartile\")};h.De=function(){Ho(this,\"midpoint\")};h.ff=function(){Ho(this,\"thirdquartile\")};h.Rd=function(){Ho(this,\"complete\");Io(this,\"Stop\");this.o=!1;null!=this.h&&this.v&&!this.D&&(this.h.A(),this.D=!0)};h.kd=function(a){var b=this.B;a=\"EVENT_VIDEO_\"+a.type.toUpperCase();N(this.h.H,\"updateVideoProgress\",[a,so(this.j),this.j.h.currentTime]);B.info('Video \"'+b+'\" dispatching \"'+a+'\" event.')};var Ho=function(a,b,c){null!=a.h&&a.v&&(c&&a.h.Z(\"Count\",a.B,\"EVENT_VIDEO_INTERACTION\"),a.h.Z(\"Count\",a.B,\"EVENT_VIDEO_\"+b.toUpperCase()))},Io=function(a,b){null!=a.h&&a.v&&a.o&&a.h.Z(b,a.B,\"EVENT_VIDEO_VIEW_TIMER\")},Co=new D;Bo.prototype.F=!1;Bo.prototype.D=!1;Bo.prototype.A=!0;var Jo=function(a){return(a=a.exec(Db()))?a[1]:\"\"};(function(){if(Xg)return Jo(/Firefox\\/([0-9.]+)/);if(Tb||Ub||Sb)return cc;if(ah){if(Pb()||(nb&&Eb&&Eb.platform?\"macOS\"===Eb.platform:y(\"Macintosh\"))){var a=Jo(/CriOS\\/([0-9.]+)/);if(a)return a}return Jo(/Chrome\\/([0-9.]+)/)}if(bh&&!Pb())return Jo(/Version\\/([0-9.]+)/);if(Yg||Zg){if(a=/Version\\/(\\S+).*Mobile\\/(\\S+)/.exec(Db()))return a[1]+\".\"+a[2]}else if($g)return(a=Jo(/Android\\s+([0-9.]+)/))?a:Jo(/Version\\/([0-9.]+)/);return\"\"})();var Ko={},Lo=function(a){G.call(this);this.j=a;this.l={};this.h=null;yk(v(this.o,this))};p(Lo,G);Lo.prototype.o=function(a){this.h=a;this.h.Lc(this.j)};Lo.prototype.C=function(){for(var a in this.l)this.j[a]=this.l[a];G.prototype.C.call(this)};t(\"studio.video.Reporter\",Lo);var No=function(a,b,c){var d=Do(a);\"boolean\"===typeof c&&(d.A=c);oo(d.l);d.o=!0;d.v=!0;d.s=b;d.j=new zo(d.s);Eo(d);Mo.ea(a)||Mo.set(a,new Lo(b))};t(\"studio.video.Reporter.attach\",No);var Oo=function(a){a=Do(a);null==a.j||to(a.j)||a.j.h.ended||(Ho(a,\"stop\",!1),Io(a,\"Stop\"),a.o=!1);Fo(a,!1);a.v=!1;a.s=null;oo(a.l);a.j&&(a.j.Sa(\"timeUpdate\",a.kd,!1,a),a.j.dispose())};t(\"studio.video.Reporter.detach\",Oo);var Mo=new D;var Po=function(){};var Qo,Ro=function(){};w(Ro,Po);var So=function(a){a:{if(!a.h&&\"undefined\"==typeof XMLHttpRequest&&\"undefined\"!=typeof ActiveXObject){for(var b=[\"MSXML2.XMLHTTP.6.0\",\"MSXML2.XMLHTTP.3.0\",\"MSXML2.XMLHTTP\",\"Microsoft.XMLHTTP\"],c=0;c<b.length;c++){var d=b[c];try{new ActiveXObject(d);var e=a.h=d;break a}catch(f){}}throw Error(\"Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed\");}e=a.h}return(a=e)?new ActiveXObject(a):new XMLHttpRequest};Qo=new Ro;var Uo=function(a,b){b=b?kc(b):{};b.responseType=\"blob\";return To(\"GET\",a,b).then(function(c){return c.response})},To=function(a,b,c){var d=c||{},e=d.rf?So(d.rf):So(Qo);return gf(new Xe(function(f,g){var l;try{e.open(a,b,!0)}catch(r){g(new Vo(\"Error opening XHR: \"+r.message,b,e))}e.onreadystatechange=function(){if(4==e.readyState){q.clearTimeout(l);a:switch(e.status){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break a;default:r=!1}!r&&(r=0===e.status)&&(r=b.match(yd)[1]||null,!r&&q.self&&q.self.location&&(r=q.self.location.protocol.slice(0,-1)),r=r?r.toLowerCase():\"\",r=!(\"http\"==r||\"https\"==r||\"\"==r));r?f(e):g(new Wo(e.status,b,e))}};e.onerror=function(){g(new Vo(\"Network error\",b,e))};if(d.headers){for(var m in d.headers){var n=d.headers[m];null!=n&&e.setRequestHeader(m,n)}n=d.headers[\"Content-Type\"]}m=q.FormData&&!1;\"POST\"!=a||void 0!==n||m||e.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded;charset=utf-8\");d.withCredentials&&(e.withCredentials=d.withCredentials);d.responseType&&(e.responseType=d.responseType);d.mimeType&&e.overrideMimeType(d.mimeType);0<d.gf&&(l=q.setTimeout(function(){e.onreadystatechange=function(){};e.abort();g(new Xo(b,e))},d.gf));try{e.send(null)}catch(r){e.onreadystatechange=function(){},q.clearTimeout(l),g(new Vo(\"Error sending XHR: \"+r.message,b,e))}}),function(f){f instanceof hf&&e.abort();throw f;})},Vo=function(a,b){Pa.call(this,a+\", url=\"+b);this.url=b};w(Vo,Pa);Vo.prototype.name=\"XhrError\";var Wo=function(a,b,c){Vo.call(this,\"Request Failed, status=\"+a,b,c);this.status=a};w(Wo,Vo);Wo.prototype.name=\"XhrHttpError\";var Xo=function(a,b){Vo.call(this,\"Request timed out\",a,b)};w(Xo,Vo);Xo.prototype.name=\"XhrTimeoutError\";t(\"studio.sdk.video.VideoResource.getBlobForUrl\",function(a){return zk().then(function(b){b=b.Wa(a);\"file:\"==window.location.protocol?b=bf(Error(\"You cannot fetch the blob of a video when running locally. Run a local web server to test this creative (For example, python -m SimpleHTTPServer).\")):Ab(b,\"/itag/\")?(Ab(b,\"/itag/\")&&!Ab(b,\"/alr/yes/\")&&(b=b.split(\"/\"),b.splice(b.length-2,0,\"alr\",\"yes\"),b=b.join(\"/\")),b=Yo(b).then(Uo)):b=Uo(b);return b})});function Yo(a){return To(\"HEAD\",a).then(function(b){return Zo(b)?To(\"GET\",a).then(function(c){return Yo(c.response)}):a})}function Zo(a){a=a.getResponseHeader(\"Content-Type\")||\"\";return Ab(a,\"text/plain\")};");
